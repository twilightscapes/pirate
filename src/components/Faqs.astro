---
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';

const faqs: CollectionEntry<'faqs'>[] = await getCollection('faqs');
const sortedFaqs = faqs.sort((a, b) => (a.data?.order ?? 0) - (b.data?.order ?? 0));

---
<style>

.faq-content {
  padding: 9px 25px 3rem; 
}

.faq-content h1 {

  text-align: center;
}

.faq-accordion {
  padding: 8px 0;
  border-bottom: 1px solid ;
}





/* checkbox tgg-title*/
input.tgg-title {
  appearance: unset;
  all:unset;
}

.faq-accordion-title label{
  display: flex;
  align-items: center;
  cursor: pointer;
}

.faq-accordion-title h3{

  font-weight: 400;
  color: var(--neutral-dark-color);
}

.faq-accordion-title span{
  margin-left: auto;
  transition: transform .4s ease-in-out;
  transition: transform .4s ease-in-out;
}
.arrow-icon{font-size: 32px;}


  .faq-accordion-content {
    color: var(--neutral-soft-color);
    overflow: hidden;
    max-height: 0;
    transition: max-height .4s ease-in-out;
    padding: 10px 0 0 0;
  }

  /* Effects */
  .faq-accordion .tgg-title:checked + div>label>h3 {
    font-weight: 700;
  }

  .faq-accordion .tgg-title:checked + div>label>span {
    will-change: transform;
    transform: rotate(180deg);
  }

  .faq-accordion .tgg-title:checked ~ .faq-accordion-content {
    will-change: max-height;
    max-height: 500px;
  }
</style>



  



  
    <div class="card-wrapper  | content-cc">
      <div class="faq-card">
        <main class="faq-content">
          {sortedFaqs.map((faq, index) => (
            <article class="faq-accordion">
              <input type="checkbox" class="tgg-title" id={`tgg-title-${index + 1}`} />
              <div class="faq-accordion-title">
                <label for={`tgg-title-${index + 1}`}>
                  <h3>{faq.data.question}</h3>
                  <span class="arrow-icon">
                    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 24 24" data-astro-cid-vaazyeln="true" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"></path><path d="M16 11h-1V3c0-1.1-.9-2-2-2h-2c-1.1 0-2 .9-2 2v8H8c-2.76 0-5 2.24-5 5v7h18v-7c0-2.76-2.24-5-5-5zm-5-8h2v8h-2V3zm8 18h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3h-2v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H9v-3c0-.55-.45-1-1-1s-1 .45-1 1v3H5v-5c0-1.65 1.35-3 3-3h8c1.65 0 3 1.35 3 3v5z"></path></svg>
                  </span>
                </label>
              </div>
              <div class="faq-accordion-content">
                <p>{faq.data.answer}</p>
              </div>
            </article>
          ))}
        </main>
      </div>
    </div>

