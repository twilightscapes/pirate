---
import { MdOutlineCleaningServices } from "react-icons/md";
import { getCollection } from 'astro:content';
import type { CollectionEntry } from 'astro:content';

const faqs: CollectionEntry<'faqs'>[] = await getCollection('faqs');
const sortedFaqs = faqs.sort((a, b) => (a.data?.order ?? 0) - (b.data?.order ?? 0));

---
<style>

.faq-content {
  padding: 9px 25px 3rem; 
}

.faq-content h1 {

  text-align: center;
}

.faq-accordion {
  padding: 8px 0;
  border-bottom: 1px solid ;
}





/* checkbox tgg-title*/
input.tgg-title {
  appearance: unset;
  all:unset;
}

.faq-accordion-title label{
  display: flex;
  align-items: center;
  cursor: pointer;
}

.faq-accordion-title h3{

  font-weight: 400;
  color: var(--neutral-dark-color);
}

.faq-accordion-title span{
  margin-left: auto;
  transition: transform .4s ease-in-out;
  transition: transform .4s ease-in-out;
}
.arrow-icon{font-size: 32px;}


  .faq-accordion-content {
    color: var(--neutral-soft-color);
    overflow: hidden;
    max-height: 0;
    transition: max-height .4s ease-in-out;
    padding: 10px 0 0 0;
  }

  /* Effects */
  .faq-accordion .tgg-title:checked + div>label>h3 {
    font-weight: 700;
  }

  .faq-accordion .tgg-title:checked + div>label>span {
    will-change: transform;
    transform: rotate(180deg);
  }

  .faq-accordion .tgg-title:checked ~ .faq-accordion-content {
    will-change: max-height;
    max-height: 500px;
  }
</style>



  



  
    <div class="card-wrapper  | content-cc">
      <div class="faq-card">
        <main class="faq-content">
          {sortedFaqs.map((faq, index) => (
            <article class="faq-accordion">
              <input type="checkbox" class="tgg-title" id={`tgg-title-${index + 1}`} />
              <div class="faq-accordion-title">
                <label for={`tgg-title-${index + 1}`}>
                  <h3>{faq.data.question}</h3>
                  <span class="arrow-icon">
                    <MdOutlineCleaningServices />
                  </span>
                </label>
              </div>
              <div class="faq-accordion-content">
                <p>{faq.data.answer}</p>
              </div>
            </article>
          ))}
        </main>
      </div>
    </div>

